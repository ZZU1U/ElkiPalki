import flet as ft
from ..components.appbar import MyAppBar
from ..components.animal import Animal
import asyncio

animals = [{"name":"Toby","species":"Rabbit","age":7,"description":"friendly fellow","image":"https://cdn.britannica.com/20/194520-050-DCAE62F1/New-World-Sylvilagus-cottontail-rabbits.jpg","status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":20},{"name":"Baxter","species":"Dog","age":11,"description":"loyal companion","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":11},{"name":"Penny","species":"Hamster","age":2,"description":"quick and quiet","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":17},{"name":"Coco","species":"Hamster","age":1,"description":"tiny but mighty","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":12},{"name":"Daisy","species":"Guinea Pig","age":3,"description":"social butterfly","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":10},{"name":"Rufus","species":"Dog","age":8,"description":"happy-go-lucky","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":18},{"name":"Whiskers","species":"Cat","age":3,"description":"playful kitty","image":"https://wallpapercrafter.com/desktop/293518-cat-pet-striped-kitten-young-white-background.jpg","status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":2},{"name":"Max","species":"Dog","age":10,"description":"active adventurer","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":15},{"name":"Finn","species":"Rabbit","age":5,"description":"hoppy guy","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":13},{"name":"Sammy","species":"Hamster","age":2,"description":"quick little guy","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":5},{"name":"Sasha","species":"Cat","age":9,"description":"regal feline","image":"","status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":19},{"name":"Snowball","species":"Rabbit","age":6,"description":"fluffy friend","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":8},{"name":"Luna","species":"Rabbit","age":4,"description":"gentle giant","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":6},{"name":"Oliver","species":"Guinea Pig","age":4,"description":"gentle soul","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":16},{"name":"Mittens","species":"Cat","age":1,"description":"curious kitten","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":4},{"name":"Jack","species":"Dog","age":5,"description":"nice dog","image":"https://pettownsendvet.com/wp-content/uploads/2023/01/iStock-1052880600-1024x683.jpg","status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":1},{"name":"Buddy","species":"Dog","age":7,"description":"friendly companion","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":3},{"name":"Lola","species":"Cat","age":6,"description":"sassy kitty","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":14},{"name":"Tiger","species":"Cat","age":8,"description":"sassy feline","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":9},{"name":"Rocky","species":"Dog","age":9,"description":"energetic runner","image":None,"status":"AVAILABLE","last_donation":None,"food_donated":0,"food_daily":500,"walks":[],"id":7}]
async def adminchoice(page: ft.Page, back=None):
    page.clean()
    page.appbar = MyAppBar(title='Панель админа', back=back)
    page.appbar.center_title = True
    lv = ft.ListView()
    for i in range(len(animals)):
        lv.controls.append(
            Animal(animals[i], page=page, back=(lambda e: asyncio.run(adminchoice(page, back)))))

    page.add(lv)
